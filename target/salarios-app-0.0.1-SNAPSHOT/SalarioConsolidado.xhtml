<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<head>
    <title>Salário Consolidado das Pessoas</title>
    <h:outputStylesheet library="salarios" name="estilo.css" />  <!-- se houver css personalizado -->
</head>
<body>
<h:form id="formSalario">

    <h:panelGroup styleClass="header">
        <h1>Salário Consolidado das Pessoas</h1>
        <h:commandButton value="Calcular / Recalcular"
                         action="#{pessoaSalarioConsolidadoBean.calcular}"
                         icon="ui-icon-refresh"
                         immediate="false" />
    </h:panelGroup>

    <!-- Espaço para exibir mensagens de info/erro -->
    <h:messages globalOnly="true" layout="table" styleClass="mensagens"/>

    <h:dataTable value="#{pessoaSalarioConsolidadoBean.listaConsolidada}"
                 var="item"
                 border="1"
                 cellpadding="5"
                 styleClass="tabelaConsolidado"
                 rowClasses="linhaPar,linhaImpar">

        <!-- Coluna: ID da pessoa (opcional) -->
        <h:column>
            <f:facet name="header">
                <h:outputText value="ID Pessoa" />
            </f:facet>
            <h:outputText value="#{item.pessoaId}" />
        </h:column>

        <!-- Coluna: Nome da Pessoa -->
        <h:column>
            <f:facet name="header">
                <h:outputText value="Nome Pessoa" />
            </f:facet>
            <h:outputText value="#{item.nomePessoa}" />
        </h:column>

        <!-- Coluna: Nome do Cargo -->
        <h:column>
            <f:facet name="header">
                <h:outputText value="Cargo" />
            </f:facet>
            <h:outputText value="#{item.nomeCargo}" />
        </h:column>

        <!-- Coluna: Salário calculado -->
        <h:column>
            <f:facet name="header">
                <h:outputText value="Salário (R$)" />
            </f:facet>
            <!-- Formata para duas casas decimais -->
            <h:outputText value="#{item.salario}">
                <f:convertNumber type="number"
                                 maxFractionDigits="2"
                                 minFractionDigits="2"
                                 locale="pt_BR" />
            </h:outputText>
        </h:column>
    </h:dataTable>

</h:form>
</body>
</html>
